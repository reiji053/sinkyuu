<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Sign up</title>
    <link rel="stylesheet" href="/static/styles.css" />

    <style>
      .input-wrap {
        position: relative;
        max-width: 400px;
        margin-bottom: 16px;
      }

      /* 左アイコン */
      .input-wrap img.icon-left {
        position: absolute;
        top: 50%;
        left: 12px;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        opacity: 0.6;
        pointer-events: none;
      }

      /* 右の目ボタン */
      .input-wrap button.eye-btn {
        position: absolute;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
      }

      .input-wrap button.eye-btn img {
        width: 20px;
        height: 20px;
      }

      .input-wrap input {
        width: 100%;
        padding: 12px 40px 12px 40px; /* 左右に余白 */
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 16px;
        box-sizing: border-box;
      }
    </style>
  </head>

  <body>
    <div class="signup_email">
      <h1>Welcome Back</h1>
      <h2>Sign in to continue your Japanese learning journey</h2>

      <form action="/signin-email" method="POST">
        <!-- Email -->
        <div class="input-wrap">
          <img src="/static/img/email.png" class="icon-left" />
          <input
            type="email"
            name="email"
            placeholder="Email Address"
            required
          />
        </div>

        <!-- Password（目ボタン内蔵） -->
        <div class="input-wrap">
          <img src="/static/img/password.png" class="icon-left" />

          <input
            id="password"
            type="password"
            name="password"
            placeholder="Password"
            required
          />

          <button type="button" id="togglePw" class="eye-btn">
            <img src="/static/img/eye.png" id="eyeIcon" />
          </button>
        </div>

        <a href="./forgot">Forgot Password?</a><br />
        <button type="submit">Sign in</button><br />
        <button
          type="button"
          class="back-btn"
          onclick="window.location.href='/signup'"
        >
          Back
        </button>
      </form>

      <script>
        const pw = document.getElementById("password");
        const btn = document.getElementById("togglePw");
        const eye = document.getElementById("eyeIcon");

        btn.addEventListener("click", () => {
          if (pw.type === "password") {
            pw.type = "text";
            eye.src = "/static/img/eye.png"; // 見えない用アイコン
          } else {
            pw.type = "password";
            eye.src = "/static/img/eye.png"; // 見える用アイコン
          }
        });
      </script>
    </div>
  </body>
</html>
