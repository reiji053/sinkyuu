<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Achievement</title>
    <link rel="stylesheet" href="/static/styles.css?v=4" />
  </head>

  <body>
    <div class="select achievements-page">
      <h1>Achievement</h1>

      {% if stats %}
        <div class="points-summary">Points: {{ stats.total_score }}</div>
      {% endif %}

      {% if achievements %}
        {% for a in achievements %}
          <div class="achievement-card{% if not a.earned %} is-locked{% endif %}" aria-label="{{ a.name }}">
            <div class="achievement-card__text">
              <span class="profile-badge-title">{{ a.name }}</span>
              {% if a.description %}
                <span class="profile-badge-desc">{{ a.description }}</span>
              {% endif %}
              {% if a.earned %}
                <span class="achievement-card__status is-earned">獲得済み</span>
              {% else %}
                <span class="achievement-card__status is-locked">未獲得</span>
              {% endif %}
            </div>

            <div class="achievement-card__badge" aria-hidden="true">
              {% if a.badge_image %}
                <img
                  class="{% if not a.earned %}is-locked{% endif %}"
                  src="{{ a.badge_image }}"
                  alt=""
                />
              {% endif %}
            </div>
          </div>
        {% endfor %}
      {% else %}
        <p>バッジがありません</p>
      {% endif %}
    </div>

    {% include "_bottom_nav.html" %}
  </body>
</html>
